<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Senior Connect - Check-In</title>
  <%- include('partials/fonts.ejs') %>

    <link rel="stylesheet" href="/styles.css">
    <!-- Only load omikuji and puzzle if needed -->
    
    <!-- Pass server-side language preference to client-side JavaScript -->
    <!-- This runs BEFORE script.js loads, so the preferred language is available immediately -->
    <script>
      window.PREFERRED_LANG = '<%= preferredLang %>';
    </script>

</head>

<body>
  <!-- NAVBAR -->
  <nav class="navbar" id="navbar">
    <div class="nav-left">
      <a href="/">Senior Connect </a>
      <span>       </span>
    </div>
    <div class="nav-right">
      <span></span><span class="showElderlyName"><a href="/shop">Shop</a></span></span>
      <span></span><span id="showElderlyName">Log In</span></span>
      <a href="/profile"><img src="images/profile.png" style="width:25px;  height:25px;"></a>
    </div>
  </nav>

  <div id="headerText"></div> <!-- Top text, changes based on the time of day-->
  <div id="2ndHeaderText"></div>
  <div id="gameArea"> <!--The div that stores the items and the baskets -->

    <div id="tray" role="list"></div> <!-- the tray, can be reordered by swapping with the baskets -->
    <div class="baskets" id="baskets"></div> <!-- the baskets, can be reordered by swapping with the tray -->
    <div id="message" aria-live="polite"></div> <!-- message that appears after check-in completion -->

  </div>

  <!-- FORTUNE GAME (HIDDEN UNTIL gameMode === 'omikuji') -->
  <div id="omikujiWrapper" style="display:none;">
    <div id="2ndHeaderText"></div>
    <div id="sticksTray"></div>
    <button id="drawStickBtn"></button>
    
  <div id="fortuneMessage" style="margin-top:10px;font-size:1.2em;"></div>
  <div id="message" aria-live="polite"></div> <!-- message that appears after check-in completion -->

  </div>

  <!-- PUZZLE GAME (HIDDEN UNTIL gameMode === 'puzzle') -->
  <div id="puzzleWrapper" style="display:none;">
    <h2 id="puzzleTitle">Complete the Picture</h2>
    <div id="puzzleGrid">
      <div class="puzzle-piece"></div>
      <div class="puzzle-piece"></div>
      <div class="puzzle-piece"></div>
      <div class="puzzle-piece"></div>
    </div>
      <div id="message" aria-live="polite"></div> <!-- message that appears after check-in completion -->

  </div>

</body>
<footer>
  
  <!-- EMERGENCY BUTTON -->
  <button id="emergencyBtn" onclick="confirmEmergency()"></button>

  <script src="/script.js"></script>
</footer>

</html>